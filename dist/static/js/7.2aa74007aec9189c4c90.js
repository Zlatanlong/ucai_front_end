webpackJsonp([7],{"8IQb":function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){var t=this;return{tr:[{title:"ID",key:"id"},{title:"菜名",key:"name"},{title:"价格",key:"price"},{title:"描述",key:"description"},{title:"总评分",key:"totalScore"},{title:"操作",key:"operator",width:150,align:"center",render:function(e,s){return e("div",[e("Button",{props:{type:"error",size:"small"},on:{click:function(){t.remove(s.index)}}},"delete")])}}],td:[]}},created:function(){var t=this;this.$http.get("/dish/get/bypage",{params:{start:1,size:30}}).then(function(e){console.log(e),t.td=e.data.data},function(e){t.$Message.error("服务器开小差啦"),console.log(e)})},methods:{remove:function(t){var e=this;this.$http.delete("/dish-manager/deldish",{params:{id:this.td[t].id}}).then(function(t){0===t.data.code?(e.$Message.success("删除成功"),e.showList()):3===t.data.code&&(e.$Message.error("请登录菜管!"),e.$router.push("/manager-dish/adminLogin"))},function(t){console.log(t),e.$Message.error("删除失败")})},showList:function(){var t=this;this.$http.get("/dish/get/bypage",{params:{start:1,size:30}}).then(function(e){t.td=e.data.data},function(e){console.log(e),t.$Message.error("加载失败")})}}},n={render:function(){var t=this.$createElement;return(this._self._c||t)("Table",{attrs:{stripe:"",columns:this.tr,data:this.td,height:"500",size:"small"}})},staticRenderFns:[]};var r=s("VU/8")(i,n,!1,function(t){s("L4DQ")},null,null);e.default=r.exports},L4DQ:function(t,e){}});
//# sourceMappingURL=7.2aa74007aec9189c4c90.js.map