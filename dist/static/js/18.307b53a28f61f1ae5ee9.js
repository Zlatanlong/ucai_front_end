webpackJsonp([18],{CTCe:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("olkN"),o={name:"dishes",components:{MyDishCard:s("KzEK").a},props:["sth"],data:function(){return{showSelect:[{value:1,name:"最新发布"},{value:2,name:"评价最高"}],currentDishList:[],currentPage:1,onePageSize:10,dishCount:0,sharedState:a.a.state}},methods:{showPage:function(t){var e=this;this.currentPage=t,this.$http.get("/dish/get/search",{params:{start:t,size:this.onePageSize,sth:this.sth}}).then(function(t){e.currentDishList=t.data.data},function(t){e.$Message.error("服务器开小差啦"),console.log(t)}),document.body.scrollTop=0,document.documentElement.scrollTop=0},changePageSize:function(t){this.onePageSize=t,this.showPage(this.currentPage)},goto:function(t){this.$router.push("/dish/"+t)},getCount:function(){var t=this;this.$http.get("/dish/get/searchcount",{params:{sth:this.sth}}).then(function(e){t.dishCount=e.data.data},function(e){t.$Message.error("服务器开小差啦"),console.log(e)})}},created:function(){this.getCount(),this.showPage(1)},watch:{$route:function(t,e){this.showPage(this.currentPage)}}},n={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("Row",{staticClass:"code-row-bg",attrs:{type:"flex",justify:"center"}},[s("Col",{attrs:{span:"22"}},[s("Row",{staticClass:"first-row code-row-bg",attrs:{type:"flex",justify:"start"}},t._l(t.currentDishList,function(t,e){return s("Col",{key:e,staticClass:"dish-col",attrs:{xs:12,sm:8,md:6,lg:6}},[s("MyDishCard",{attrs:{dish:t}})],1)})),s("Row",{staticClass:"second-row code-row-bg",attrs:{type:"flex",justify:"start"}},[s("Page",{staticClass:"page-bigscreen",attrs:{total:t.dishCount,"show-total":"show-total","show-sizer":"show-sizer",current:t.currentPage,"show-elevator":"show-elevator"},on:{"on-change":t.showPage,"on-page-size-change":t.changePageSize}}),s("Page",{staticClass:"page-smallscreen",attrs:{total:t.dishCount,simple:"simple",current:t.currentPage},on:{"on-change":t.showPage}})],1)],1)],1)],1)},staticRenderFns:[]};var r=s("VU/8")(o,n,!1,function(t){s("gSYU")},"data-v-4920fc17",null);e.default=r.exports},gSYU:function(t,e){}});
//# sourceMappingURL=18.307b53a28f61f1ae5ee9.js.map