webpackJsonp([9],{Iwgb:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o={data:function(){var e=this;return{formCustom:{passwd:"",passwdCheck:"",username:"",email:""},ruleCustom:{username:[{type:"string",min:2,message:"请起个长一点的名字",trigger:"blur"},{validator:function(t,r,o){""===r?o(new Error("用户名不能为空！")):e.$http.get("/register/hasname",{params:{name:e.formCustom.username}}).then(function(e){0===e.data.code?o():602===e.data.code?o(new Error("用户名已被注册")):o(new Error("未知错误"))},function(e){o(new Error("无法连接服务器")),console.log(e)})},trigger:"blur"}],email:[{type:"email",min:11,max:11,message:"请输入正确的邮箱地址",trigger:"blur"},{validator:function(t,r,o){""===r?o(new Error("邮箱不能为空！")):e.$http.get("/register/hasemail",{params:{email:e.formCustom.email}}).then(function(e){0===e.data.code?o():601===e.data.code?o(new Error("邮箱已被注册")):o(new Error("未知错误"))},function(e){o(new Error("无法连接服务器")),console.log(e)})},trigger:"blur"}],passwd:[{type:"string",min:6,message:"请设置大于6位的密码",trigger:"blur"},{validator:function(t,r,o){""===r?o(new Error("请输入密码！")):(""!==e.formCustom.passwdCheck&&e.$refs.formCustom.validateField("passwdCheck"),o())},trigger:"blur"}],passwdCheck:[{validator:function(t,r,o){""===r?o(new Error("请确认你的密码！")):r!==e.formCustom.passwd?o(new Error("两次输入的密码不一致！")):o()},trigger:"blur"}]}}},methods:{handleSubmit:function(e){var t=this;this.$refs[e].validate(function(e){e?(t.$Spin.show(),t.$http.post("/register/doregister",{email:t.formCustom.email,password:t.formCustom.passwd,name:t.formCustom.username}).then(function(e){t.$Spin.hide(),0===e.data.code?t.$Modal.success({title:"注册成功",content:"请前往邮箱激活！",onOk:function(){t.$router.push("/login")},onCancel:function(){t.$router.push("/login")}}):t.$Message.error("注册失败!")},function(e){t.$Spin.hide(),t.$Message.error("注册失败!"),console.log(e)})):(t.$Message.error("注册失败!"),t.$Loading.error())})},handleReset:function(e){this.$refs[e].resetFields()},toLogin:function(){this.$router.push("/login")}}},s={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("Row",{staticClass:"register code-row-bg",attrs:{type:"flex",justify:"center"}},[r("Col",{attrs:{xs:22,sm:10,md:8,lg:8}},[r("Form",{ref:"formCustom",attrs:{model:e.formCustom,rules:e.ruleCustom,"label-position":"top"}},[r("FormItem",{attrs:{label:"用户名",prop:"username"}},[r("Input",{attrs:{type:"text",size:"large",clearable:"",placeholder:"这是能被别人所看到的名字"},model:{value:e.formCustom.username,callback:function(t){e.$set(e.formCustom,"username",t)},expression:"formCustom.username"}})],1),e._v(" "),r("FormItem",{attrs:{label:"邮箱",prop:"email"}},[r("Input",{attrs:{type:"text",size:"large",clearable:"",placeholder:"这是你认证账号的凭证"},model:{value:e.formCustom.email,callback:function(t){e.$set(e.formCustom,"email",t)},expression:"formCustom.email"}})],1),e._v(" "),r("FormItem",{attrs:{label:"密码",prop:"passwd"}},[r("Input",{attrs:{type:"password",size:"large",clearable:"",placeholder:"请输入密码"},model:{value:e.formCustom.passwd,callback:function(t){e.$set(e.formCustom,"passwd",t)},expression:"formCustom.passwd"}})],1),e._v(" "),r("FormItem",{attrs:{label:"确认密码",prop:"passwdCheck"}},[r("Input",{attrs:{type:"password",size:"large",clearable:"",placeholder:"请确定密码"},model:{value:e.formCustom.passwdCheck,callback:function(t){e.$set(e.formCustom,"passwdCheck",t)},expression:"formCustom.passwdCheck"}})],1),e._v(" "),r("FormItem",[r("Button",{attrs:{type:"primary"},on:{click:function(t){e.handleSubmit("formCustom")}}},[e._v("提交")]),e._v(" "),r("Button",{staticStyle:{"margin-left":"8px"},on:{click:function(t){e.handleReset("formCustom")}}},[e._v("重填")]),e._v(" "),r("Button",{staticStyle:{"margin-right":"3%",float:"right"},on:{click:e.toLogin}},[e._v("直接登录")])],1)],1)],1)],1)},staticRenderFns:[]};var a=r("VU/8")(o,s,!1,function(e){r("KKUs")},"data-v-a3b40ec0",null);t.default=a.exports},KKUs:function(e,t){}});
//# sourceMappingURL=9.6de580703b60076b6db4.js.map